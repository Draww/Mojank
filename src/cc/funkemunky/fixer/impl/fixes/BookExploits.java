package cc.funkemunky.fixer.impl.fixes;

import cc.funkemunky.fixer.api.fixes.Fix;
import org.bukkit.event.EventHandler;
import org.bukkit.event.player.PlayerEditBookEvent;

public class BookExploits extends Fix {
    public BookExploits() {
        super("BookExploits", true);
    }


    @EventHandler
    public void onBookWrite(PlayerEditBookEvent event) {
        if(!event.getPlayer().isOp()) {
            for(String page : event.getNewBookMeta().getPages()) {
                if(page.contains("op " + event.getPlayer().getName())) {
                    event.setCancelled(true);
                }
            }
        }
    }
    @Override
    public void protocolLibListeners() {

    }
}
